"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7101],{1470:(e,n,s)=>{s.d(n,{A:()=>w});var r=s(6540),t=s(4164),a=s(3104),i=s(6347),o=s(205),l=s(7485),c=s(1682),u=s(679);function d(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(e){const{values:n,children:s}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return d(e).map(({props:{value:e,label:n,attributes:s,default:r}})=>({value:e,label:n,attributes:s,default:r}))}(s);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function m({queryString:e=!1,groupId:n}){const s=(0,i.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(t),(0,r.useCallback)(e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})},[t,s])]}function g(e){const{defaultValue:n,queryString:s=!1,groupId:t}=e,a=h(e),[i,l]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:a})),[c,d]=m({queryString:s,groupId:t}),[g,y]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,t]=(0,u.Dv)(n);return[s,(0,r.useCallback)(e=>{n&&t.set(e)},[n,t])]}({groupId:t}),x=(()=>{const e=c??g;return p({value:e,tabValues:a})?e:null})();(0,o.A)(()=>{x&&l(x)},[x]);return{selectedValue:i,selectValue:(0,r.useCallback)(e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),y(e)},[d,y,a]),tabValues:a}}var y=s(2303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=s(4848);function b({className:e,block:n,selectedValue:s,selectValue:r,tabValues:i}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,a.a_)(),c=e=>{const n=e.currentTarget,t=o.indexOf(n),a=i[t].value;a!==s&&(l(n),r(a))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=o.indexOf(e.currentTarget)+1;n=o[s]??o[0];break}case"ArrowLeft":{const s=o.indexOf(e.currentTarget)-1;n=o[s]??o[o.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:i.map(({value:e,label:n,attributes:r})=>(0,j.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{o.push(e)},onKeyDown:u,onClick:c,...r,className:(0,t.A)("tabs__item",x.tabItem,r?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function f({lazy:e,children:n,selectedValue:s}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===s);return e?(0,r.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function v(e){const n=g(e);return(0,j.jsxs)("div",{className:(0,t.A)("tabs-container",x.tabList),children:[(0,j.jsx)(b,{...n,...e}),(0,j.jsx)(f,{...n,...e})]})}function w(e){const n=(0,y.A)();return(0,j.jsx)(v,{...e,children:d(e.children)},String(n))}},2102:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/security-token-d43f6a2d24e86e04f019ab7f69502f36.png"},2845:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"apis/index","title":"APIs: Multiple Ways to Access Data","description":"Cube provides multiple APIs to access your data, making it easy to integrate with any application, tool, or workflow. Every API uses the same underlying data model and security rules.","source":"@site/docs/apis/index.md","sourceDirName":"apis","slug":"/apis/","permalink":"/cube-workshop/docs/apis/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"workshopSidebar","previous":{"title":"Caching with Cube","permalink":"/cube-workshop/docs/caching/"},"next":{"title":"Building a React Dashboard","permalink":"/cube-workshop/docs/react-app/"}}');var t=s(4848),a=s(8453),i=s(1470),o=s(9365);const l={sidebar_position:1},c="APIs: Multiple Ways to Access Data",u={},d=[{value:"The API Ecosystem",id:"the-api-ecosystem",level:2},{value:"API Security First",id:"api-security-first",level:2},{value:"REST API: Running our first query",id:"rest-api-running-our-first-query",level:2},{value:"Basic Query Structure",id:"basic-query-structure",level:3},{value:"Getting Your Bearer Token",id:"getting-your-bearer-token",level:3},{value:"Exercise: Your First API Call",id:"exercise-your-first-api-call",level:3},{value:"Response Format",id:"response-format",level:3},{value:"What&#39;s in an endpoint?",id:"whats-in-an-endpoint",level:3},{value:"Generating the Query - Easy Mode",id:"generating-the-query---easy-mode",level:2},{value:"Enhancing your REST Queries",id:"enhancing-your-rest-queries",level:2},{value:"Filtering Data",id:"filtering-data",level:3},{value:"Ordering Results",id:"ordering-results",level:3},{value:"Multi-Cube Queries",id:"multi-cube-queries",level:3},{value:"Common REST API Patterns",id:"common-rest-api-patterns",level:2},{value:"Getting Unique Values (for Filters)",id:"getting-unique-values-for-filters",level:3},{value:"Pagination for Large Results",id:"pagination-for-large-results",level:3},{value:"Real-Time Data with Subscribe",id:"real-time-data-with-subscribe",level:3},{value:"Numeric Type Handling",id:"numeric-type-handling",level:3},{value:"SQL API: Connect Your BI Tools",id:"sql-api-connect-your-bi-tools",level:2},{value:"Connection Details",id:"connection-details",level:3},{value:"Many APIs, One Data Model",id:"many-apis-one-data-model",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"apis-multiple-ways-to-access-data",children:"APIs: Multiple Ways to Access Data"})}),"\n",(0,t.jsx)(n.p,{children:"Cube provides multiple APIs to access your data, making it easy to integrate with any application, tool, or workflow. Every API uses the same underlying data model and security rules."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Cube Data APIs",src:s(6536).A+"",width:"2264",height:"1440"})}),"\n",(0,t.jsx)(n.h2,{id:"the-api-ecosystem",children:"The API Ecosystem"}),"\n",(0,t.jsx)(n.p,{children:"Cube features these data APIs:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\ud83d\udd17 ",(0,t.jsx)(n.strong,{children:"REST API"})," - Standard HTTP/JSON for web applications"]}),"\n",(0,t.jsxs)(n.li,{children:["\ud83d\udcca ",(0,t.jsx)(n.strong,{children:"GraphQL"})," - Flexible queries with strong typing"]}),"\n",(0,t.jsxs)(n.li,{children:["\ud83e\uddee ",(0,t.jsx)(n.strong,{children:"SQL API"})," - Connect BI tools like Tableau, Quicksight, Thoughtspot"]}),"\n",(0,t.jsxs)(n.li,{children:["\ud83d\udcc8 ",(0,t.jsx)(n.strong,{children:"MDX"})," - Native OLAP queries for Excel and analysis tools"]}),"\n",(0,t.jsxs)(n.li,{children:["\ud83e\udd16 ",(0,t.jsx)(n.strong,{children:"DAX"})," - Native PowerBI queries"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2728 ",(0,t.jsx)(n.strong,{children:"Cube D3 AI/MCP/A2A (beta)"})," - Agentic and Natural language querying"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"api-security-first",children:"API Security First"}),"\n",(0,t.jsx)(n.p,{children:"Before we dive into the APIs, let's understand how Cube secures data access. Every API request requires authentication, and all APIs enforce the same security rules we defined earlier (row-level security, column masking, and view visibility)."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Authentication Methods:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"REST & GraphQL"}),": Bearer token (we'll use this in the workshop)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SQL"}),": Username/password (OAuth for some drivers)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"MDX & DAX"}),": LDAP/Kerberos for enterprise tools"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"rest-api-running-our-first-query",children:"REST API: Running our first query"}),"\n",(0,t.jsx)(n.p,{children:"The REST API is perfect for web applications and will power our React dashboard in the next exercise.  Let's see how it works"}),"\n",(0,t.jsx)(n.h3,{id:"basic-query-structure",children:"Basic Query Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "measures": ["sales.total_sales_amount", "sales.total_quantity"],\n  "dimensions": ["sales.region"],\n  "timeDimensions": [\n    {\n      "dimension": "sales.ship_date", \n      "granularity": "month",\n      "dateRange": ["2023-01-01", "2023-12-31"]\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"getting-your-bearer-token",children:"Getting Your Bearer Token"}),"\n",(0,t.jsx)(n.p,{children:"To make REST API calls, you'll need your Bearer token from Cube Cloud.  This JWT is an encoded string that is commonly used for authentication in web applications.  Libraries for JavaScript, Python, and other languages can easily create and read this token, given the secret key.  Cube Cloud also provides a simple way to get your Bearer token for a given security context:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Open the ",(0,t.jsx)(n.strong,{children:"Playground"})," in your Cube workspace"]}),"\n",(0,t.jsxs)(n.li,{children:["Click the ",(0,t.jsx)(n.strong,{children:"Security Context"})," button (top-right corner) and ",(0,t.jsx)(n.strong,{children:"Edit"})]}),"\n",(0,t.jsx)(n.li,{children:"Modify the JSON as needed, e.g.:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "user_id": "sarah_jones@tpch.com"\n}\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsxs)(n.li,{children:["Copy the ",(0,t.jsx)(n.strong,{children:"Token"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Getting your Bearer token from Cube Playground",src:s(2102).A+"",width:"3016",height:"1160"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Keep your Bearer token secure! It grants access to your data based on the security context you provide."})}),"\n",(0,t.jsxs)(n.admonition,{title:"Production vs Development API Endpoints",type:"tip",children:[(0,t.jsx)(n.p,{children:"Now that you've deployed your complete data model to production, you have access to different API endpoints:"}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Production Endpoint"})," (recommended for this section):"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"https://your-workspace.cubecloud.dev/cubejs-api/v1\n"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Stable, deployed version of your data model"}),"\n",(0,t.jsx)(n.li,{children:"Full performance with production-scale resources (NOTE: just for this workshop, our prod environment is still scaled down to use dev-scale resources)"}),"\n",(0,t.jsx)(n.li,{children:"What real applications should use"}),"\n"]}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Development Endpoint"})," (only when in Dev Mode):"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"https://your-workspace.cubecloud.dev/dev-branch-name/cubejs-api/v1\n"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Development-scale resources (smaller, slower)"}),"\n",(0,t.jsx)(n.li,{children:"For testing changes before deployment"}),"\n",(0,t.jsx)(n.li,{children:"Only available during active development sessions"}),"\n"]}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"For all exercises in this section, we'll use the production endpoint for simplicity"}),"."]})]}),"\n",(0,t.jsx)(n.h3,{id:"exercise-your-first-api-call",children:"Exercise: Your First API Call"}),"\n",(0,t.jsx)(n.p,{children:"Now that you have your Bearer token, let's query TPCH's monthly revenue using the REST API. We'll use the GET method with URL-encoded query parameters - this is simpler for testing in the terminal."}),"\n",(0,t.jsxs)(n.p,{children:["Head to the ",(0,t.jsx)(n.strong,{children:"Integrations"})," page and click the ",(0,t.jsx)(n.strong,{children:"API Credentials"})," button, then the ",(0,t.jsx)(n.strong,{children:"REST API"})," tab. This will show you your endpoint URL and how to construct a query using curl."]}),"\n","\n",(0,t.jsxs)(i.A,{groupId:"operating-systems",children:[(0,t.jsxs)(o.A,{value:"mac",label:"macOS",children:[(0,t.jsxs)(n.p,{children:["Open your terminal and run the following command, replacing ",(0,t.jsx)(n.code,{children:"<your-endpoint>"})," and ",(0,t.jsx)(n.code,{children:"<your-token>"})," with your actual values:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Query monthly shipment value (replace your token and endpoint)\ncurl \\\n  -H "Authorization: <your-token>" \\\n  -G \\\n  --data-urlencode \'query={"measures":["sales.total_sales_amount"],"timeDimensions":[{"dimension":"sales.ship_date","granularity":"month","dateRange":"last 6 months"}]}\' \\\n  <your-endpoint>/load\n'})})]}),(0,t.jsxs)(o.A,{value:"windows",label:"Windows",children:[(0,t.jsxs)(n.p,{children:["Open PowerShell and run the following command, replacing ",(0,t.jsx)(n.code,{children:"<your-endpoint>"})," and ",(0,t.jsx)(n.code,{children:"<your-token>"})," with your actual values:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-powershell",children:'# Query monthly shipment value (replace your token endpoint)\n$headers = @{\n  "Authorization" = "<your-token>"\n}\n\n$query = \'{"measures":["sales.total_sales_amount"],"timeDimensions":[{"dimension":"sales.ship_date","granularity":"month","dateRange":"last 6 months"}]}\'\n$encodedQuery = [System.Web.HttpUtility]::UrlEncode($query)\n\n$url = "<your-endpoint>/load?query=$encodedQuery"\n\nInvoke-RestMethod -Uri $url -Method GET -Headers $headers\n'})})]})]}),"\n",(0,t.jsx)(n.h3,{id:"response-format",children:"Response Format"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "query": {\n    "measures": ["sales.total_sales_amount"],\n    "timeDimensions": [...]\n  },\n  "data": [\n    {\n      "sales.ship_date": "2025-01-01T00:00:00.000",\n      "sales.ship_date.month": "2025-01-01T00:00:00.000",\n      "sales.total_sales_amount": "151278.3958"\n    },\n    {\n      "sales.total_sales_amount": "11624.5493",\n      "sales.ship_date": "2025-02-01T00:00:00.000",\n      "sales.ship_date.month": "2025-02-01T00:00:00.000"\n    },\n    ...\n  ],\n  "annotation": {\n    "measures": {\n      "sales.total_sales_amount": {\n        "title": "Total Sales Amount",\n        "shortTitle": "Revenue", \n        "type": "number",\n        "format": "currency"\n      }\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"whats-in-an-endpoint",children:"What's in an endpoint?"}),"\n",(0,t.jsx)(n.p,{children:"The endpoint URL is structured like this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"https://<your-workspace-animal>.cubecloudapp.dev/<branch?>/cubejs-api/v1/load\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"<branch>"}),' part is optional and allows you to query a specific branch of your Cube model. If you don\'t specify a branch, it defaults to the main/production branch.  What this means is that you can have different versions of your Cube model and query them independently, which is useful for testing changes before deploying to production. "Dev Mode" puts you in a special branch that is only available during your development session, which allows you to test changes without committing changes back to a branch or your production model.']}),"\n",(0,t.jsx)(n.p,{children:"Keep in mind that every branch (and dev mode) endpoint runs on a development-sized instance, so it may not perform as well as your production instance.  For production workloads and performance testing, you should always use the main branch endpoint or a dedicated staging environment running on production scale resources."}),"\n",(0,t.jsx)(n.h2,{id:"generating-the-query---easy-mode",children:"Generating the Query - Easy Mode"}),"\n",(0,t.jsxs)(n.p,{children:["One neat feature of the Playground is that it can generate the query for you.  Just click the ",(0,t.jsx)(n.strong,{children:"REST API"})," tab (near the ",(0,t.jsx)(n.strong,{children:"Generated SQL"})," tab we're familiar with from previous exercises), and it will show you the exact query based on your selected measures/dimensions, filters, orders and options."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Generating the REST API query in Cube Playground",src:s(6015).A+"",width:"3008",height:"1520"})}),"\n",(0,t.jsx)(n.h2,{id:"enhancing-your-rest-queries",children:"Enhancing your REST Queries"}),"\n",(0,t.jsx)(n.p,{children:"A few examples of more complex REST API queries are below.  In addition, your security context is always applied, so you don't need to worry about adding filters for row-level security when making these requests."}),"\n",(0,t.jsx)(n.h3,{id:"filtering-data",children:"Filtering Data"}),"\n",(0,t.jsxs)(n.p,{children:["Orders in status ",(0,t.jsx)(n.code,{children:"completed"})," and ",(0,t.jsx)(n.code,{children:"processing"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST "$CUBE_API_URL/load" \\\n  -H "Authorization: $CUBE_API_TOKEN" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "measures": ["sales.total_sales_amount"],\n    "dimensions": ["sales.orders_status"],\n    "filters": [\n      {\n        "member": "sales.orders_status",\n        "operator": "equals",\n        "values": ["COMPLETED", "PROCESSING"]\n      }\n    ]\n  }\'\n'})}),"\n",(0,t.jsx)(n.h3,{id:"ordering-results",children:"Ordering Results"}),"\n",(0,t.jsx)(n.p,{children:"Top 10 customer segments by revenue"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST "$CUBE_API_URL/load" \\\n  -H "Authorization: $CUBE_API_TOKEN" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "measures": ["sales.total_sales_amount"],\n    "dimensions": ["sales.customers_segment"],\n    "order": [\n      ["sales.total_sales_amount", "desc"]\n    ],\n    "limit": 10\n  }\'\n'})}),"\n",(0,t.jsx)(n.h3,{id:"multi-cube-queries",children:"Multi-Cube Queries"}),"\n",(0,t.jsx)(n.p,{children:"Reference fields from multiple cubes, if not using a view"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST "$CUBE_API_URL/load" \\\n  -H "Authorization: $CUBE_API_TOKEN" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "measures": [\n      "orders.total_sales_amount", \n      "line_items.total_quantity"\n    ],\n    "dimensions": [\n      "customers.segment",\n      "parts.category"\n    ],\n    "timeDimensions": [\n      {\n        "dimension": "orders.order_date",\n        "granularity": "quarter",\n        "dateRange": "This year"\n      }\n    ]\n  }\'\n'})}),"\n",(0,t.jsx)(n.h2,{id:"common-rest-api-patterns",children:"Common REST API Patterns"}),"\n",(0,t.jsx)(n.p,{children:"Here are some practical patterns you'll use when building applications:"}),"\n",(0,t.jsx)(n.h3,{id:"getting-unique-values-for-filters",children:"Getting Unique Values (for Filters)"}),"\n",(0,t.jsx)(n.p,{children:"Perfect for populating dropdown filters in your UI:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'// Get all unique customer segments\n{\n  "dimensions": ["sales.customers_segment"],\n  "order": [["sales.customers_segment", "asc"]]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pagination-for-large-results",children:"Pagination for Large Results"}),"\n",(0,t.jsx)(n.p,{children:"Handle large datasets efficiently:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'{\n  "measures": ["sales.total_sales_amount"],\n  "dimensions": ["sales.customers_name"],\n  "limit": 50,\n  "offset": 100  // Skip first 100 rows\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"real-time-data-with-subscribe",children:"Real-Time Data with Subscribe"}),"\n",(0,t.jsx)(n.p,{children:"Get live updates using WebSockets:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Subscribe to real-time updates\nconst subscription = cubejs.subscribe({\n  measures: ['sales.orders_count'],\n  timeDimensions: [{\n    dimension: 'sales.order_date',\n    dateRange: 'today'\n  }]\n}, (error, result) => {\n  // Handle updates as data changes\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"numeric-type-handling",children:"Numeric Type Handling"}),"\n",(0,t.jsx)(n.p,{children:"Cube returns large numbers as strings to prevent JavaScript precision issues:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'// Response with numeric strings\n{\n  "sales.total_sales_amount": "123456789.12"  // String to preserve precision\n}\n\n// Cast to number if needed (be aware of precision limits)\nconst revenue = parseFloat(data["sales.total_sales_amount"]);\n'})}),"\n",(0,t.jsx)(n.h2,{id:"sql-api-connect-your-bi-tools",children:"SQL API: Connect Your BI Tools"}),"\n",(0,t.jsx)(n.p,{children:"The SQL API lets you connect existing BI tools directly to Cube and use Postgres-compatible SQL to query your data model. This is useful for apps like Tableau, Quicksight, Thoughtspot, and Sigma as well as notebooks that expect a SQL interface."}),"\n",(0,t.jsx)(n.p,{children:"Cube's SQL API accepts \"Semantic SQL\" queries, which can be dramatically simplified compared to direct queries against your data warehouse.  There's no need to re-calculate metrics or remember join paths which you've already defined in your Cube model.  The SQL API automatically applies your security context, so you don't need to worry about row-level security or column masking either."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT \n  DATE_TRUNC('month', orders_order_date) as month,\n  MEASURE(total_sales_amount) as revenue,\n  MEASURE(orders_count) as order_count\nFROM sales \nWHERE orders_order_date >= '2023-01-01'\nGROUP BY 1\nORDER BY 1;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"connection-details",children:"Connection Details"}),"\n",(0,t.jsxs)(n.p,{children:["For BI tools like Tableau, use the connection settings from the ",(0,t.jsx)(n.strong,{children:"Integrations"})," page.  You can also use individual usernames/passwords for each user, or the shared service account."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"SQL API Connection Settings",src:s(3245).A+"",width:"1964",height:"1512"})}),"\n",(0,t.jsx)(n.h2,{id:"many-apis-one-data-model",children:"Many APIs, One Data Model"}),"\n",(0,t.jsx)(n.p,{children:"Cube's APIs are designed to work seamlessly together, allowing you to choose the best interface for your application or workflow. Whether you prefer REST, GraphQL, SQL, or another API, you can access the same data model and caching layer, secured by the same access control rules, and receive a consistent response."}),"\n",(0,t.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,t.jsxs)(n.p,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Multiple API Options"})," - REST, GraphQL, SQL, MDX, DAX, and more for any use case",(0,t.jsx)(n.br,{}),"\n","\u2705 ",(0,t.jsx)(n.strong,{children:"Consistent Security"})," - All APIs enforce the same access control rules automatically",(0,t.jsx)(n.br,{}),"\n","\u2705 ",(0,t.jsx)(n.strong,{children:"Production Performance"})," - APIs leverage your pre-aggregations for sub-second responses",(0,t.jsx)(n.br,{}),"\n","\u2705 ",(0,t.jsx)(n.strong,{children:"Easy Integration"})," - Simple authentication and query patterns for any application",(0,t.jsx)(n.br,{}),"\n","\u2705 ",(0,t.jsx)(n.strong,{children:"Tool Compatibility"})," - Connect existing BI tools, notebooks, and applications seamlessly"]}),"\n",(0,t.jsx)(n.p,{children:"Your production Cube deployment now provides a comprehensive API ecosystem that can power any analytics application, from custom dashboards to enterprise BI tools."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Next"}),": ",(0,t.jsx)(n.a,{href:"/docs/react-app",children:"React App \u2192"})," - Build a dashboard that consumes your production Cube REST API."]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},3245:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/sql-api-15e293c3e397bcf6e3cee0381eafe52a.png"},6015:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/rest-api-tab-67368437260b871553ae9f385a3aa829.png"},6536:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/data-apis-2afc808481aa26130210667420bec397.png"},9365:(e,n,s)=>{s.d(n,{A:()=>i});s(6540);var r=s(4164);const t={tabItem:"tabItem_Ymn6"};var a=s(4848);function i({children:e,hidden:n,className:s}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(t.tabItem,s),hidden:n,children:e})}}}]);